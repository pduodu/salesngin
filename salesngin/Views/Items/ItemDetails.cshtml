@model ItemViewModel
@{
    ViewData["Title"] = "Item Details";
    ViewData["MainMenu"] = "Item Management";
    ViewData["Page"] = "Item Details";
    ViewData["SubMenu"] = "Items";

    @* if (Model.ItemType == ItemType.Fixed)
    {
        ViewData["Page"] = "Fixed Item Details";
    }
    else if (Model.ItemType == ItemType.Operational)
    {
        ViewData["Page"] = "Operational Item Details";
    } *@

    //string stockLevelColor = Model.StockLevelPercentage <= 25 ? "danger" : Model.StockLevelPercentage <= 50 ? "warning" : "success";
    //string stockLevelClass = Model.StockLevelPercentage <= 25 ? "bg-danger" : Model.StockLevelPercentage <= 50 ? "bg-warning" : "bg-success";
    //string stockLevelText = Model.StockLevelPercentage <= 25 ? "Low" : Model.StockLevelPercentage <= 50 ? "Moderate" : "Healthy";
    //string stockLevelAlertIndicator = Model.NeedsRestock ? "danger" : "success";
    //string stockLevelAlertMessage = Model.NeedsRestock ? "Stock levels are low. Immediate restocking required." : "Stock levels are healthy. No immediate restocking required."; 
    //string restockColorClass = Model.RestockThresholdPercentage <= 25 ? "bg-success" : Model.RestockThresholdPercentage <= 50 ? "bg-warning" : "bg-danger";
    //string restockLevelText = Model.RestockThresholdPercentage <= 25 ? "In Stock" : Model.RestockThresholdPercentage <= 50 ? "Low Stock" : "Restock Needed";
    //string restockLevelColor = Model.InventoryItem != null && Model.InventoryItem.Quantity <= Model.InventoryItem.RestockLevel ? "danger" : "success"; 
    //string itemType = Model.ItemType.ToString();

    string stockStatusColorIndicator = Model.InventoryItem?.StockItemStatus == StockStatus.Available ? "success" :
        Model.InventoryItem?.StockItemStatus == StockStatus.LowStock ? "warning" :
        Model.InventoryItem?.StockItemStatus == StockStatus.OutOfStock ? "danger" : "secondary";

    var stockLevelPercentage = Model.StockLevelPercentage ?? 0;
    var restockThresholdPercentage = Model.RestockThresholdPercentage ?? 0;
    int itemQuantity = Model.InventoryItem?.Quantity ?? 0;

    string stockLevelClass, stockLevelColor, stockLevelText;
    if (stockLevelPercentage <= 25)
    {
        stockLevelClass = "bg-danger";
        stockLevelColor = "danger";
        stockLevelText = "Critical";
    }
    else if (stockLevelPercentage <= 50)
    {
        stockLevelClass = "bg-warning";
        stockLevelColor = "warning";
        stockLevelText = "Low";
    }
    else
    {
        stockLevelClass = "bg-success";
        stockLevelColor = "success";
        stockLevelText = "Healthy";
    }

    string stockLevelAlertIndicator = @stockLevelColor;
    string stockLevelAlertMessage = stockLevelText == "Critical"
    ? "Stock is critically low. Immediate restock required!"
    : stockLevelText == "Low"
        ? "Stock is below 50%. Consider restocking soon."
        : "Stock level is healthy.";
    string stockLevelPercentageString = Model.StockLevelPercentage?.ToString("0.##") + "%";
    
    string restockColorClass = "bg-danger"; // default to red
    string restockLevelColor = "danger"; // default to red
    string restockLevelText = "Restock Point";
    string restockThresholdPercentageString = Model.RestockThresholdPercentage?.ToString("0.##") + "%";


}
<div class="row">
    <div class="col-md-6">
        <h3>Item Details</h3>
        <p>Detailed information about the item.</p>
    </div>
    <div class="col-md-6">
        <div class="d-flex justify-content-end">
        <a asp-controller="Items" asp-action="Inventory" id="backToListButton" class="btn btn-lg btn-primary me-5">
            <i class="ki-duotone ki-arrow-left fs-2x">
                <span class="path1"></span>
                <span class="path2"></span>
            </i>
            Back to List
        </a>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-9">

		<div class="card mb-6">
			<div class="card-body pt-9 pb-0">
				<div class="d-flex flex-wrap flex-sm-nowrap">
					<div class="me-7 mb-4">
						<div class="symbol symbol-100px symbol-fixed position-relative">
							<img src="@Url.Content(Model.Item?.ItemPhotoPath)" alt="image" />
						</div>
					</div>
					<div class="flex-grow-1">
						<div class="d-flex justify-content-between align-items-start flex-wrap mb-2">
							<div class="d-flex flex-column">
								<div class="d-flex align-items-center mb-2">
									<span class="text-gray-900 text-hover-primary fs-2 fw-bold me-1">@Model.Item?.ItemName</span>
								</div>
								<div class="d-flex flex-wrap fw-semibold fs-5 mb-2 pe-2">
									<span class="d-flex align-items-center text-gray-800 me-5 mb-2">
									   Item Code : @Model.Item?.ItemCode
                                    </span>
								</div>
                <div class="d-flex flex-wrap fw-semibold fs-6 mb-4 pe-2">
                    <span class="d-flex align-items-center text-gray-500 text-hover-primary me-3 mb-2">
									   @await Html.PartialAsync("Item/_InventoryStatus", Model.InventoryItem?.Status)
                    </span>
								</div>
							</div>
							<div class="d-flex my-4">
								<a asp-controller="Items" asp-action="UpdateItem" asp-route-id="@Model.InventoryItem?.Id" class="btn btn-sm btn-primary fs-5 me-1">
                    <i class="ki-duotone ki-pencil fs-2">
                        <i class="path1"></i>
                        <i class="path2"></i>
                    </i>
                    Edit
                </a>
								<a href="#" class="btn btn-sm btn-danger me-1">
                  <i class="ki-duotone ki-trash fs-2">
                    <span class="path1"></span>
                    <span class="path2"></span>
                    <span class="path3"></span>
                    <span class="path4"></span>
                    <span class="path5"></span>
                  </i>
                  Delete
                </a>
								<a href="#" class="btn btn-sm btn-primary me-1">Print</a>
								<a href="#" class="btn btn-sm btn-primary me-1">Share</a>
							</div>
						</div>													
					</div>
				</div>
			</div>
		</div>

        <div class="mb-6">
        <div class="row mb-4">
              <div class="col-md-3">
                <div class="card text-center border-0 shadow-sm">
                  <div class="card-body">
                    <div class="text-primary mb-2">
                       <i class="ki-duotone ki-cube-2 fs-2x">
                        <span class="path1"></span>
                        <span class="path2"></span>
                        <span class="path3"></span>
                       </i>
                    </div>
                    <h4 class="fs-3 fw-bold">@Model.InventoryItem?.Quantity</h4>
                    <p class="fs-6 fw-semibold mb-0">Current Stock</p>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="card text-center border-0 shadow-sm">
                  <div class="card-body">
                    <div class="text-warning mb-2">
                      <i class="ki-duotone ki-information-5 fs-2x">
                        <span class="path1"></span>
                        <span class="path2"></span>
                        <span class="path3"></span>
                       </i>
                    </div>
                    <h4 class="fs-3 fw-bold">@Model.InventoryItem?.RestockLevel</h4>
                    <p class="fs-6 fw-semibold mb-0">Restock Level</p>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                  <div class="card text-center border-0 shadow-sm">
                     <div class="card-body">
                       <div class="text-success mb-2">
                         <i class="ki-duotone ki-parcel-tracking fs-2x">
                          <span class="path1"></span>
                          <span class="path2"></span>
                          <span class="path3"></span>
                         </i>
                       </div>
                       <h4 class="fs-4 fw-bold text-@stockStatusColorIndicator">@Model.InventoryItem?.StockItemStatus</h4>
                       <p class="fs-6 fw-semibold mb-0">Status</p>
                     </div>
                  </div>
               </div>
            </div>
		</div>


     @* Stock Analysis *@
    <div class="card shadow-sm mb-4 border-1 border-@stockLevelAlertIndicator">
              <div class="card-header">
                <h5 class="card-title mb-0">
                  <i class="ki-duotone ki-chart-simple-3 me-2 fs-2x">
                   <span class="path1"></span>
                   <span class="path2"></span>
                   <span class="path3"></span>
                   <span class="path4"></span>
                  </i>
                  Stock Level Analysis
                </h5>
                <div class="card-toolbar fw-bold">
                  Maximum Stock Level : @Model.MaxStockLevel?.ToString("0")
                </div>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6">
					<div class="d-flex align-items-center w-200px w-sm-300px flex-column mt-3">
						<div class="d-flex justify-content-between w-100 mt-auto mb-2">
							<span class="fw-semibold fs-6 text-gray-800">Current Stock Level</span>
							<span class="fw-bold fs-6">@stockLevelPercentageString</span>
						</div>
						<div class="h-20px mx-3 w-100 bg-gray-300 mb-3 position-relative">
							<div id="stock-progress-bar" class="@stockLevelClass rounded h-20px" role="progressbar" 
                            style="width: @stockLevelPercentageString" aria-valuenow="@Model.StockLevelPercentage" 
                            aria-valuemin="0" aria-valuemax="100"></div>
                            <!-- Threshold Marker (thin dark vertical line) -->
                            <div class="threshold-marker bg-dark" style="left:@restockThresholdPercentageString;"></div>
						</div>
                        <div class="d-flex justify-content-between w-100 mt-auto mb-2">
							<span class="badge badge-@stockLevelColor fw-semibold fs-6 p-2">@stockLevelText</span>
						</div>
					</div>
                  </div>
                  <div class="col-md-6">
					<div class="d-flex align-items-center w-200px w-sm-300px flex-column mt-3">
						<div class="d-flex justify-content-between w-100 mt-auto mb-2">
							<span class="fw-semibold fs-6 text-gray-800">Restock Alert Threshold</span>
							<span class="fw-bold fs-6">@restockThresholdPercentageString</span>
						</div>
                        <div class="h-20px mx-3 w-100 bg-gray-300 mb-3 position-relative">
                            <div id="restock-progress-bar" class="@restockColorClass rounded rounded-end-0 h-20px" 
                                role="progressbar" style="width: @restockThresholdPercentageString" 
                                aria-valuenow="@Model.RestockThresholdPercentage" 
                                aria-valuemin="0" 
                                aria-valuemax="100">
                            </div>
                           <div class="threshold-marker bg-dark" style="left:@restockThresholdPercentageString;"></div>
                        </div>
                        <div class="d-flex justify-content-between w-100 mt-auto mb-2">
                            <span class="badge badge-@restockLevelColor fw-semibold fs-6 p-2">
                                @restockLevelText
                            </span>
                        </div>
					</div>
                  </div>
                </div>
                <div class="alert bg-light-@stockLevelAlertIndicator d-flex flex-column flex-sm-row p-5 mb-10" role="alert">
                  <i class="ki-duotone ki-check-circle me-2 fs-2hx text-@stockLevelAlertIndicator me-4 mb-5 mb-sm-0">
                   <span class="path1"></span>
                   <span class="path2"></span>
                  </i>
                  <div class="d-flex flex-column pe-0 pe-sm-10">
                      <span class="py-2 fs-5 fw-bold">@stockLevelAlertMessage</span>
                  </div>
                </div>
              </div>
            </div>

           
            @* Item Details  *@
            <div class="card shadow-sm mb-4">
              <div class="card-header">
                <h5 class="card-title mb-0">
                  <i class="ki-duotone ki-information-5 fs-2x me-2">
                   <span class="path1"></span>
                   <span class="path2"></span>
                   <span class="path3"></span>
                  </i>
                  Item Information
                </h5>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <table class="table table-borderless">
                      <tbody>
                       <tr>
                          <td class="fw-semibold text-muted w-25">Item Name:</td>
                          <td style="text-align: left;">@Model.InventoryItem?.Item?.ItemName</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <table class="table table-borderless">
                      <tbody>
                        @* <tr>
                          <td class="fw-semibold text-muted">Item Name:</td>
                          <td>@Model.InventoryItem?.Item?.ItemName</td>
                        </tr> *@
                        <tr>
                          <td class="fw-semibold text-muted">Item Code:</td>
                          <td>
                            <code class="fs-6">@Model.InventoryItem?.Item?.ItemCode</code>
                          </td>
                        </tr>
                        <tr>
                          <td class="fw-semibold text-muted">Category:</td>
                          <td>
                            <span class="badge bg-secondary">@Model.InventoryItem?.Item?.Category?.CategoryName</span>
                          </td>
                        </tr>
                        @* <tr>
                          <td class="fw-semibold text-muted">Item Type:</td>
                          <td>@Model.InventoryItem?.Item?.ItemType</td>
                        </tr> 
                        <tr>
                          <td class="fw-semibold text-muted">Unit of Measurement:</td>
                          <td>
                            @Model.InventoryItem?.UnitOfMeasurement.UnitDisplay(@itemQuantity)
                          </td>
                        </tr>*@
                      </tbody>
                    </table>
                  </div>
                  <div class="col-md-6">
                    <table class="table table-borderless">
                      <tbody>
                        <tr>
                          <td class="fw-semibold text-muted">Current Quantity:</td>
                          <td>
                            <span class="badge badge-info fs-6">
                               @* @Model.InventoryItem?.UnitOfMeasurement.UnitDisplayWithQuantity(@itemQuantity) *@
                               @itemQuantity
                            </span>
                          </td>
                        </tr>
                        <tr>
                          <td class="fw-semibold text-muted">Restock Level:</td>
                          <td>
                            <span class="badge badge-info fs-6">@Model.InventoryItem?.RestockLevel</span>
                          </td>
                        </tr>                       
                      </tbody>
                    </table>
                  </div>
                </div>
                <hr />
                <div class="row">
                  <div class="col-12">
                    <h6 class="fw-semibold mb-2">Description:</h6>
                    <p class="text-muted">
                        @Model.InventoryItem?.Item?.ItemDescription
                    </p>
                  </div>
                </div>
              </div>
            </div>

            @* Maintenance History *@
            <div class="card shadow-sm mb-4">
              <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">
                  <i class="bi bi-tools me-2"></i>Maintenance History
                </h5>
                <button class="btn btn-outline-primary btn-sm">
                  <i class="bi bi-plus me-1"></i>Schedule Maintenance
                </button>
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead class="table-light">
                      <tr>
                        <th>Date</th>
                        <th>Type</th>
                        <th>Technician</th>
                        <th>Description</th>
                        <th>Cost</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>2024-01-15</td>
                        <td>
                          <span class="badge bg-info">Preventive</span>
                        </td>
                        <td>John Smith</td>
                        <td>Routine inspection and lubrication</td>
                        <td>$150.00</td>
                        <td>
                          <span class="badge bg-success">Completed</span>
                        </td>
                      </tr>
                      <tr>
                        <td>2023-11-22</td>
                        <td>
                          <span class="badge bg-warning">Corrective</span>
                        </td>
                        <td>Mike Johnson</td>
                        <td>Replaced worn impeller and seals</td>
                        <td>$450.00</td>
                        <td>
                          <span class="badge bg-success">Completed</span>
                        </td>
                      </tr>
                      <tr>
                        <td>2023-08-10</td>
                        <td>
                          <span class="badge bg-info">Preventive</span>
                        </td>
                        <td>Sarah Davis</td>
                        <td>Quarterly maintenance check</td>
                        <td>$120.00</td>
                        <td>
                          <span class="badge bg-success">Completed</span>
                        </td>
                      </tr>
                      <tr>
                        <td>2023-05-18</td>
                        <td>
                          <span class="badge bg-danger">Emergency</span>
                        </td>
                        <td>John Smith</td>
                        <td>Motor bearing replacement</td>
                        <td>$680.00</td>
                        <td>
                          <span class="badge bg-success">Completed</span>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="mt-3">
                  <small class="text-muted">
                    <i class="bi bi-info-circle me-1"></i>
                    Total maintenance cost this year: $1,400.00 | Next scheduled maintenance: March 15, 2024
                  </small>
                </div>
              </div>
            </div>

            @* Faults & Issues *@
            <div class="card shadow-sm mb-4">
              <div class="card-header bg-light d-flex justify-content-between align-items-center">
                <h5 class="mb-0">
                  <i class="bi bi-exclamation-triangle me-2"></i>Faults & Issues
                </h5>
                <button class="btn btn-outline-danger btn-sm">
                  <i class="bi bi-plus me-1"></i>Report Issue
                </button>
              </div>
              <div class="card-body">
                @* Active Issues *@
                <h6 class="fw-semibold mb-3 text-danger">
                  <i class="bi bi-exclamation-circle me-2"></i>Active Issues (2)
                </h6>
                <div class="row mb-4">
                  <div class="col-md-6">
                    <div class="card border-danger">
                      <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                          <h6 class="card-title text-danger mb-0">High Vibration Detected</h6>
                          <span class="badge bg-danger">High Priority</span>
                        </div>
                        <p class="card-text small text-muted mb-2">
                          Unusual vibration levels detected during operation. May indicate bearing wear.
                        </p>
                        <div class="d-flex justify-content-between align-items-center">
                          <small class="text-muted">Reported: Jan 20, 2024</small>
                          <button class="btn btn-outline-danger btn-sm">View Details</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="card border-warning">
                      <div class="card-body">
                        <div class="d-flex justify-content-between align-items-start mb-2">
                          <h6 class="card-title text-warning mb-0">Temperature Fluctuation</h6>
                          <span class="badge bg-warning">Medium Priority</span>
                        </div>
                        <p class="card-text small text-muted mb-2">
                          Operating temperature varies outside normal range during peak hours.
                        </p>
                        <div class="d-flex justify-content-between align-items-center">
                          <small class="text-muted">Reported: Jan 18, 2024</small>
                          <button class="btn btn-outline-warning btn-sm">View Details</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                @* Resolved Issues *@
                <h6 class="fw-semibold mb-3 text-success">
                  <i class="bi bi-check-circle me-2"></i>Recently Resolved (3)
                </h6>
                <div class="table-responsive">
                  <table class="table table-sm">
                    <thead className="table-light">
                      <tr>
                        <th>Issue</th>
                        <th>Priority</th>
                        <th>Reported</th>
                        <th>Resolved</th>
                        <th>Resolution</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>Pressure Drop</td>
                        <td>
                          <span className="badge bg-danger">High</span>
                        </td>
                        <td>Jan 10, 2024</td>
                        <td>Jan 15, 2024</td>
                        <td>Cleaned intake filter</td>
                      </tr>
                      <tr>
                        <td>Noise Level Increase</td>
                        <td>
                          <span className="badge bg-warning">Medium</span>
                        </td>
                        <td>Dec 28, 2023</td>
                        <td>Jan 05, 2024</td>
                        <td>Lubricated bearings</td>
                      </tr>
                      <tr>
                        <td>Control Panel Error</td>
                        <td>
                          <span className="badge bg-info">Low</span>
                        </td>
                        <td>Dec 20, 2023</td>
                        <td>Dec 22, 2023</td>
                        <td>Software update applied</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

        
        <div class="mb-6">
       
          @{
                var dashParameters = new
                {
                    Currency = "GHS",
                    //TotalStatsOne = Model.TotalDues.Value.ToString("N2") ?? string.Empty,
                    TotalStatsOne = "",
                    TotalStatsOneLabel = "Total Dues",
                    TotalStatsTwo = "",
                    TotalStatsTwoLabel = "Total Contributions",
                    TotalStatsThree = "",
                    TotalStatsThreeLabel = "Total Expenses",
                    TotalStatsFour = "",
                    TotalStatsFourLabel = "",
                };
            }
            @await Html.PartialAsync("_DynamicStatsPartial", dashParameters)
        </div>
    </div>

    <div class="col-md-3">

        <div class="card mb-4">
            <div class="card-header">
                <h6 class="card-title mb-0">
                    <i class="ki-duotone ki-click fs-2x me-2">
                     <span class="path1"></span>
                     <span class="path2"></span>
                     <span class="path3"></span>
                     <span class="path4"></span>
                     <span class="path5"></span>
                    </i>
                    Quick Actions
                </h6>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <button class="btn btn-primary">
                        <i class="ki-duotone ki-plus-circle me-2 fs-2">
                         <span class="path1"></span>
                         <span class="path2"></span>
                        </i>
                        Add Stock
                    </button>
                    <button class="btn btn-danger">
                        <i class="ki-duotone ki-minus-circle me-2 fs-2">
                         <span class="path1"></span>
                         <span class="path2"></span>
                        </i>Remove Stock
                    </button>
                    <button class="btn btn-primary">
                        <i class="ki-duotone ki-arrows-circle me-2 fs-2">
                         <span class="path1"></span>
                         <span class="path2"></span>
                        </i>Transfer Location
                    </button>
                    <button class="btn btn-primary">
                        <i class="ki-duotone ki-calendar-add me-2 fs-2">
                         <span class="path1"></span>
                         <span class="path2"></span>
                         <span class="path3"></span>
                         <span class="path4"></span>
                         <span class="path5"></span>
                         <span class="path6"></span>
                        </i>
                        Schedule Maintenance
                    </button>
                    <button class="btn btn-primary">
                        <i class="ki-duotone ki-add-files me-2 fs-2">
                         <span class="path1"></span>
                         <span class="path2"></span>
                         <span class="path3"></span>
                        </i>Report Fault
                    </button>
                </div>
            </div>
        </div>

        <div class="card shadow-sm mb-4">
          <div class="card-header bg-light">
            <h6 class="mb-0">
              <i class="bi bi-clock-history me-2"></i>Recent Activity
            </h6>
          </div>
          <div class="card-body">
            <div class="timeline">
              <div class="timeline-item mb-3">
                <div class="timeline-marker bg-success"></div>
                <div class="timeline-content">
                  <small class="text-muted">2 hours ago</small>
                  <p class="mb-0 small">Stock level updated: +5 units</p>
                </div>
              </div>
              <div class="timeline-item mb-3">
                <div class="timeline-marker bg-warning"></div>
                <div class="timeline-content">
                  <small class="text-muted">1 day ago</small>
                  <p class="mb-0 small">Issue reported: High vibration</p>
                </div>
              </div>
              <div class="timeline-item mb-3">
                <div class="timeline-marker bg-info"></div>
                <div class="timeline-content">
                  <small class="text-muted">3 days ago</small>
                  <p class="mb-0 small">Maintenance completed</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card shadow-sm">
          <div class="card-header bg-light">
            <h6 class="mb-0">
              <i class="bi bi-graph-up me-2"></i>Statistics
            </h6>
          </div>
          <div class="card-body">
            <div class="row text-center">
              <div class="col-6 mb-3">
                <div class="border-end">
                  <h5 class="text-primary mb-0">12</h5>
                  <small class="text-muted">Total Issues</small>
                </div>
              </div>
              <div class="col-6 mb-3">
                <h5 class="text-success mb-0">10</h5>
                <small class="text-muted">Resolved</small>
              </div>
              <div class="col-6">
                <div class="border-end">
                  <h5 class="text-info mb-0">8</h5>
                  <small class="text-muted">Maintenance</small>
                </div>
              </div>
              <div class="col-6">
                <h5 class="text-warning mb-0">95%</h5>
                <small class="text-muted">Uptime</small>
              </div>
            </div>
          </div>
        </div>

    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function ()
        {
            $('.types-select').select2({ width: 'resolve' });

            KTUtil.onDOMContentLoaded(function ()
            {
                KTAppTableListing.init("ItemRecordsTable", "tbl_daterange_flatpickr",
                    "searchInput", "tbl_status", [], "Date", "Status",
                    "tbl_daterange_flatpickr_clear",
                    "datatable_export_buttons", "datatable_table_export_menu");
            });
        });

        function OpenProductStatusUpdateModal(id)
        {
            var data = { id: id };
            $.ajax({
                type: 'GET',
                url: "@Url.Action("GetProductStatusUpdateModal", "Product")",
                contentType: 'application/json',
                data: data,
                success: function (result)
                {
                    $('#modal-update-status-content').html(result);
                    $('#modal-update-status').modal('show');
                    $('.types-select').select2({
                        width: 'resolve',
                        dropdownParent: $("#modal-update-status")
                    });
                },
                error: function (er)
                {
                    alert(er);
                }
            });
        }

        function GetTableData()
        {
            $.ajax({
                type: 'GET',
                cache: false,
                url: '@Url.Action("GetEmployeesPartial", "Account")',
                success: function (response)
                {
                    $("#divTbPlaceholder").empty();
                    $("#divTbPlaceholder").html(response);
                }
            });
        }
    </script>
}